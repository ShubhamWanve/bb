{"version":3,"sources":["login/Login.js"],"names":["Login","props","forgotpass","history","push","handleLogin","event","a","preventDefault","url","Base_URL","data","state","fetch","method","headers","body","JSON","stringify","result","json","then","resp","console","log","ok","localStorage","setItem","token","role","id","from","location","pathname","ToastsStore","warning","error","setState","isLoggedIn","handleRegister","responseGoogle","response","onSignIn","googleData","email","profileObj","name","success","password","path","getItem","this","className","position","ToastsContainerPosition","MIDDLE_CENTER","store","md","style","backgroundColor","marginLeft","marginRight","marginBottom","textAlign","marginTop","color","exact","to","borderRadius","width","height","xs","type","value","onChange","e","target","htmlFor","float","placeholder","autoComplete","border","fontSize","onClick","display","clientId","buttonText","onSuccess","cookiePolicy","React","Component"],"mappings":"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","file":"static/js/20.aed66ed2.chunk.js","sourcesContent":["import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CInput,\r\n  CCardGroup,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CInputGroup,\r\n  CRow,\r\n} from '@coreui/react'\r\nimport '../scss/login.scss';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { Base_URL, headers } from '../CommonRoutes/Api'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport '../scss/login.scss';\r\nimport {ToastsContainer, ToastsStore, ToastsContainerPosition} from 'react-toasts';\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      role: \"user\",\r\n      email: \"\",\r\n      password: \"\",\r\n      isLoggedIn: false,\r\n      path:''\r\n    }\r\n  }\r\n\r\n  forgotpass = () => {\r\n    // window.location.href = '/forgotpass'\r\n    this.props.history.push(\"/forgotpass\")\r\n  }\r\n\r\n  handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    let url = Base_URL + \"login\";\r\n    let data = this.state;\r\n    const result = await fetch(url, {\r\n      method: 'POST',\r\n      headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n    result.json().then((resp) => {\r\n      console.log(resp);\r\n      console.log(result)\r\n      if(result.ok){\r\n      localStorage.setItem('token', resp.data.token);\r\n      localStorage.setItem('role', resp.data.role);\r\n      localStorage.setItem('user_id', resp.data.id);\r\n      const { from } = this.props.location.state || { from: { pathname: \"/dashboard\" } };\r\n      this.props.history.push(from)\r\n      }\r\n      else{\r\n        ToastsStore.warning(\"Invalid Username Or Password!\");\r\n      }\r\n    }, (error) => console.log(error))\r\n\r\n  };\r\n\r\n  handleRegister() {\r\n    if (localStorage.getItem(\"role\") === \"vendor\") {\r\n      this.setState({path:'/RegisterVendor'})\r\n    }\r\n    else {\r\n      this.setState({path:'/RegisterUser'})\r\n    }\r\n  }\r\n\r\n  role = (id) => {\r\n    localStorage.setItem('role', id)\r\n    this.setState({ role: id })\r\n    if (id === \"user\") {\r\n      this.setState({ isLoggedIn: true })\r\n    }\r\n    else {\r\n      this.setState({ isLoggedIn: false })\r\n    }\r\n    console.log(this.state.role)\r\n    this.handleRegister();\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    console.log(response);\r\n  }\r\n\r\n  onSignIn = async googleData => {\r\n    console.log(googleData)\r\n    const res = await fetch(Base_URL + \"google\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email: googleData.profileObj.email,\r\n        name: googleData.profileObj.name\r\n      }),\r\n      headers\r\n    })\r\n    res.json().then((resp) => {\r\n      console.log(resp);\r\n      if(resp.success.token !== ''){\r\n      localStorage.setItem('token', resp.success.token);\r\n      localStorage.setItem('role', resp.success.role);\r\n      localStorage.setItem('user_id', resp.success.id);\r\n      const { from } = this.props.location.state || { from: { pathname: \"/dashboard\" } };\r\n      this.props.history.push(from)}\r\n      else{\r\n        ToastsStore.warning(\"Something Went Worng.....\");\r\n      }\r\n    }, (error) => console.log(error))\r\n  }\r\n\r\n  componentDidMount(){\r\n    if((localStorage.getItem('token')) && (localStorage.getItem('role')) && (localStorage.getItem('user_id')))\r\n    {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"c-app c-default-layout flex-row align-items-center\">\r\n      <ToastsContainer position={ToastsContainerPosition.MIDDLE_CENTER} store={ToastsStore}/>\r\n        <CContainer >\r\n          <CRow className=\"justify-content-center\">\r\n            <CCol md=\"6\">\r\n              <CCardGroup>\r\n                <CCard className=\"p-4 \" style={{ backgroundColor: '#110730',marginLeft:'-1rem',marginRight:'-.9rem',marginBottom:'-.1rem' }}>\r\n                  {this.state.isLoggedIn ?\r\n                    <span style={{ textAlign: 'right', marginTop: '-1rem', marginBottom: '.5rem',color:'white' }}><NavLink exact to=\"/dashboard\"><b>Skip{`>>`}</b></NavLink></span> : ''}\r\n\r\n                  <CForm>\r\n                    <center><PersonIcon style={{ backgroundColor: '#2962a3', borderRadius: '50px', width: '90px', height: '90px' }} /></center>\r\n                    <center style={{ color: 'white',marginTop:'.5rem',marginBottom:'2rem' }}><h3><b>Login</b></h3></center>\r\n                    <CRow className=\"donate-now\">\r\n                      <CCol xs=\"6\">\r\n                        <li className=\"mb-3\"><input type=\"radio\" id=\"a25\" name=\"amount\" value=\"user\" onChange={(e) => this.role(e.target.value)} />\r\n                          <label htmlFor=\"a25\">Customer</label></li>\r\n                      </CCol>\r\n                      <CCol xs=\"6\" >\r\n                        <li className=\"mb-3\" style={{ float: \"right\" }}><input type=\"radio\" id=\"a50\" name=\"amount\" value=\"vendor\" onChange={(e) => this.role(e.target.value)} />\r\n                          <label htmlFor=\"a50\">Vendor</label></li>\r\n                      </CCol>\r\n                    </CRow>\r\n\r\n                    <CCol xs=\"12\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInput type=\"text\" name=\"username\" placeholder=\"Enter Username\" autoComplete=\"false\"\r\n                          value={this.state.email} onChange={(e) => this.setState({ email: e.target.value })} style={{ borderRadius: '30px',backgroundColor:'#3B5998',border:'1px solid #3B5998' }} />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n\r\n                    <CCol xs=\"12\">\r\n                      <CInputGroup className=\"mb-3 \">\r\n                        <CInput type=\"password\" name=\"username\" placeholder=\"Password\" autoComplete=\"false\"\r\n                          value={this.state.password} onChange={(e) => this.setState({ password: e.target.value })} style={{ borderRadius: '30px',backgroundColor:'#3B5998',border:'1px solid #3B5998' }} />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                  </CForm>\r\n\r\n                  <CRow style={{ marginTop: '-1rem' }}>\r\n                    <CCol xs=\"6\">\r\n                      <span style={{fontSize:'10px', color:'white'}}><Checkbox  color=\"primary\" name=\"checkedA\" />Remember Me</span>\r\n                    </CCol>\r\n                    <CCol xs=\"6\">\r\n                    <CButton color=\"link\" style={{ float: 'right',marginRight:'1rem',fontSize:'10px'}} onClick={this.forgotpass}>Forgot password?</CButton>\r\n                    </CCol>\r\n                  </CRow>\r\n\r\n                  <CRow style={{marginLeft:'1rem',marginRight:'0rem'}}>\r\n                      <CButton onClick={this.handleLogin} style={{backgroundColor:'white',width:'95%',borderRadius:'20px'}}\r\n                        className=\"px-4\"><b>SIGNIN</b></CButton>\r\n                  </CRow>\r\n                  \r\n                  <hr style={{backgroundColor:'#3a3a6d'}} />\r\n\r\n                  <CRow>\r\n                      <CCol xs=\"6\" style={{textAlign:'right'}}>\r\n                      Not a member.\r\n                    </CCol>\r\n                    <CCol xs=\"6\" style={{textAlign:'left'}}>\r\n                    <NavLink exact to={this.state.path}><p style={{color:'white'}}>SIGNUP</p></NavLink>\r\n                      </CCol>\r\n                  </CRow>\r\n                  \r\n                  {/* <span style={{textAlign:'center' }}>Not a member.\r\n                  <p style={{color:'white'}} onClick={this.handleRegister}>SIGNUP</p>\r\n                  </span> */}\r\n\r\n                  <span style={{textAlign: 'center',display:'flex',marginTop:'-1rem' }}>\r\n                    <hr style={{width:'30%',backgroundColor:'#3a3a6d'}} />\r\n                    <span style={{marginTop:'.3rem',color:'white',fontSize:'15px'}}>OR</span>\r\n                    <hr style={{width:'30%',backgroundColor:'#3a3a6d'}} />\r\n                  </span>\r\n\r\n                  <span style={{textAlign:'center'}}>Sign up with &nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n                  <GoogleLogin id=\"gg\"\r\n                    clientId=\"1017991139799-rhvu7n6nv13ei241a4kmtg7eh6q9ridv.apps.googleusercontent.com\"\r\n                    buttonText=\"Login\"\r\n                    onSuccess={this.onSignIn}\r\n                    // onFailure={responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                  />\r\n                  {/* <img src={logo} style={{width:'30px',height:'30px',borderRadius:'50px'}}\r\n                   clientId=\"1017991139799-rhvu7n6nv13ei241a4kmtg7eh6q9ridv.apps.googleusercontent.com\"\r\n                   onClick={()=>this.onSignIn}\r\n                   cookiePolicy={'single_host_origin'}\r\n                   /> */}\r\n                   </span>\r\n\r\n                  <hr style={{backgroundColor:'#3a3a6d'}} />\r\n\r\n                  <CRow>\r\n                      <CCol xs=\"6\" style={{textAlign:'left'}}>\r\n                      Privacy Policy\r\n                    </CCol>\r\n                    <CCol xs=\"6\" style={{textAlign:'right'}}>\r\n                      Terms & Conditions\r\n                      </CCol>\r\n                  </CRow>\r\n                  \r\n                </CCard>\r\n              </CCardGroup>\r\n            </CCol>\r\n          </CRow>\r\n        </CContainer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}