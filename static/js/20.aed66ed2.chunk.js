(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{826:function(e,t,o){},880:function(e,t,o){"use strict";o.r(t);var s=o(808),r=o.n(s),n=o(809),a=o(29),c=o(30),i=o(32),l=o(31),d=o(1),h=o.n(d),j=o(28),g=o(4),u=(o(826),o(839)),m=o(11),b=o(908),p=o(154),x=o.n(p),O=o(470),f=o(2),y=function(e){Object(i.a)(o,e);var t=Object(l.a)(o);function o(e){var s;return Object(a.a)(this,o),(s=t.call(this,e)).forgotpass=function(){s.props.history.push("/forgotpass")},s.handleLogin=function(){var e=Object(n.a)(r.a.mark((function e(t){var o,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=m.a+"login",n=s.state,e.next=5,fetch(o,{method:"POST",headers:m.b,body:JSON.stringify(n)});case 5:(a=e.sent).json().then((function(e){if(console.log(e),console.log(a),a.ok){localStorage.setItem("token",e.data.token),localStorage.setItem("role",e.data.role),localStorage.setItem("user_id",e.data.id);var t=(s.props.location.state||{from:{pathname:"/dashboard"}}).from;s.props.history.push(t)}else O.ToastsStore.warning("Invalid Username Or Password!")}),(function(e){return console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.role=function(e){localStorage.setItem("role",e),s.setState({role:e}),"user"===e?s.setState({isLoggedIn:!0}):s.setState({isLoggedIn:!1}),console.log(s.state.role),s.handleRegister()},s.responseGoogle=function(e){console.log(e)},s.onSignIn=function(){var e=Object(n.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch(m.a+"google",{method:"POST",body:JSON.stringify({email:t.profileObj.email,name:t.profileObj.name}),headers:m.b});case 3:e.sent.json().then((function(e){if(console.log(e),""!==e.success.token){localStorage.setItem("token",e.success.token),localStorage.setItem("role",e.success.role),localStorage.setItem("user_id",e.success.id);var t=(s.props.location.state||{from:{pathname:"/dashboard"}}).from;s.props.history.push(t)}else O.ToastsStore.warning("Something Went Worng.....")}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={role:"user",email:"",password:"",isLoggedIn:!1,path:""},s}return Object(c.a)(o,[{key:"handleRegister",value:function(){"vendor"===localStorage.getItem("role")?this.setState({path:"/RegisterVendor"}):this.setState({path:"/RegisterUser"})}},{key:"componentDidMount",value:function(){localStorage.getItem("token")&&localStorage.getItem("role")&&localStorage.getItem("user_id")&&this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"c-app c-default-layout flex-row align-items-center",children:[Object(f.jsx)(O.ToastsContainer,{position:O.ToastsContainerPosition.MIDDLE_CENTER,store:O.ToastsStore}),Object(f.jsx)(g.p,{children:Object(f.jsx)(g.O,{className:"justify-content-center",children:Object(f.jsx)(g.o,{md:"6",children:Object(f.jsx)(g.g,{children:Object(f.jsxs)(g.e,{className:"p-4 ",style:{backgroundColor:"#110730",marginLeft:"-1rem",marginRight:"-.9rem",marginBottom:"-.1rem"},children:[this.state.isLoggedIn?Object(f.jsx)("span",{style:{textAlign:"right",marginTop:"-1rem",marginBottom:".5rem",color:"white"},children:Object(f.jsx)(j.c,{exact:!0,to:"/dashboard",children:Object(f.jsxs)("b",{children:["Skip",">>"]})})}):"",Object(f.jsxs)(g.x,{children:[Object(f.jsx)("center",{children:Object(f.jsx)(x.a,{style:{backgroundColor:"#2962a3",borderRadius:"50px",width:"90px",height:"90px"}})}),Object(f.jsx)("center",{style:{color:"white",marginTop:".5rem",marginBottom:"2rem"},children:Object(f.jsx)("h3",{children:Object(f.jsx)("b",{children:"Login"})})}),Object(f.jsxs)(g.O,{className:"donate-now",children:[Object(f.jsx)(g.o,{xs:"6",children:Object(f.jsxs)("li",{className:"mb-3",children:[Object(f.jsx)("input",{type:"radio",id:"a25",name:"amount",value:"user",onChange:function(t){return e.role(t.target.value)}}),Object(f.jsx)("label",{htmlFor:"a25",children:"Customer"})]})}),Object(f.jsx)(g.o,{xs:"6",children:Object(f.jsxs)("li",{className:"mb-3",style:{float:"right"},children:[Object(f.jsx)("input",{type:"radio",id:"a50",name:"amount",value:"vendor",onChange:function(t){return e.role(t.target.value)}}),Object(f.jsx)("label",{htmlFor:"a50",children:"Vendor"})]})})]}),Object(f.jsx)(g.o,{xs:"12",children:Object(f.jsx)(g.F,{className:"mb-3",children:Object(f.jsx)(g.E,{type:"text",name:"username",placeholder:"Enter Username",autoComplete:"false",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},style:{borderRadius:"30px",backgroundColor:"#3B5998",border:"1px solid #3B5998"}})})}),Object(f.jsx)(g.o,{xs:"12",children:Object(f.jsx)(g.F,{className:"mb-3 ",children:Object(f.jsx)(g.E,{type:"password",name:"username",placeholder:"Password",autoComplete:"false",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},style:{borderRadius:"30px",backgroundColor:"#3B5998",border:"1px solid #3B5998"}})})})]}),Object(f.jsxs)(g.O,{style:{marginTop:"-1rem"},children:[Object(f.jsx)(g.o,{xs:"6",children:Object(f.jsxs)("span",{style:{fontSize:"10px",color:"white"},children:[Object(f.jsx)(b.a,{color:"primary",name:"checkedA"}),"Remember Me"]})}),Object(f.jsx)(g.o,{xs:"6",children:Object(f.jsx)(g.d,{color:"link",style:{float:"right",marginRight:"1rem",fontSize:"10px"},onClick:this.forgotpass,children:"Forgot password?"})})]}),Object(f.jsx)(g.O,{style:{marginLeft:"1rem",marginRight:"0rem"},children:Object(f.jsx)(g.d,{onClick:this.handleLogin,style:{backgroundColor:"white",width:"95%",borderRadius:"20px"},className:"px-4",children:Object(f.jsx)("b",{children:"SIGNIN"})})}),Object(f.jsx)("hr",{style:{backgroundColor:"#3a3a6d"}}),Object(f.jsxs)(g.O,{children:[Object(f.jsx)(g.o,{xs:"6",style:{textAlign:"right"},children:"Not a member."}),Object(f.jsx)(g.o,{xs:"6",style:{textAlign:"left"},children:Object(f.jsx)(j.c,{exact:!0,to:this.state.path,children:Object(f.jsx)("p",{style:{color:"white"},children:"SIGNUP"})})})]}),Object(f.jsxs)("span",{style:{textAlign:"center",display:"flex",marginTop:"-1rem"},children:[Object(f.jsx)("hr",{style:{width:"30%",backgroundColor:"#3a3a6d"}}),Object(f.jsx)("span",{style:{marginTop:".3rem",color:"white",fontSize:"15px"},children:"OR"}),Object(f.jsx)("hr",{style:{width:"30%",backgroundColor:"#3a3a6d"}})]}),Object(f.jsxs)("span",{style:{textAlign:"center"},children:["Sign up with \xa0\xa0\xa0\xa0",Object(f.jsx)(u.GoogleLogin,{id:"gg",clientId:"1017991139799-rhvu7n6nv13ei241a4kmtg7eh6q9ridv.apps.googleusercontent.com",buttonText:"Login",onSuccess:this.onSignIn,cookiePolicy:"single_host_origin"})]}),Object(f.jsx)("hr",{style:{backgroundColor:"#3a3a6d"}}),Object(f.jsxs)(g.O,{children:[Object(f.jsx)(g.o,{xs:"6",style:{textAlign:"left"},children:"Privacy Policy"}),Object(f.jsx)(g.o,{xs:"6",style:{textAlign:"right"},children:"Terms & Conditions"})]})]})})})})})]})}}]),o}(h.a.Component);t.default=y}}]);
//# sourceMappingURL=20.aed66ed2.chunk.js.map