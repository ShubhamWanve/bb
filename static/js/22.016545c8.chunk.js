(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{840:function(e,t,s){"use strict";var r=s(86),i=s(87);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(s(1)),o=(0,r(s(88)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"12",r:"3"}),a.createElement("path",{d:"M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCameraRounded");t.default=o},883:function(e,t,s){"use strict";s.r(t);var r=s(9),i=s(29),a=s(30),o=s(215),l=s(32),n=s(31),c=s(1),d=s(4),h=s(67),b=s.n(h),m=s(838),u=s(840),j=s.n(u),p=s(470),g=(s(473),s(11)),x=s(58),y=s(2),f=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).setModal=function(){r.setState({modal:!1})},r.changeState=function(e){r.setState({cityname:"",stateError:""}),r.setState({stateid:e.target.value,blocking:!0}),fetch(g.a+"getCitybyStateid/"+e.target.value).then((function(e){e.json().then((function(e){r.setState({city:e.data,blocking:!1})}))}))},r.changeCity=function(e){r.setState({storesname:"",blocking:!0}),r.setState({cityname:e.target.value}),fetch(g.a+"findvendor/"+e.target.value).then((function(e){e.json().then((function(e){r.setState({storesname:e.data,blocking:!1})}))}))},r.state={statename:[],stateid:"",city:[],cityname:"",storesname:[],file:"",bill:"",store:[],invoice:"",store_id:"",subcategory:"",mobile:"",user_id:localStorage.getItem("user_id"),error:[],stateError:"",cityError:"",storeError:"",billError:"",invoiceError:"",fileError:"",image:"",blocking:!1,modal:!1},r.handleCapture=r.handleCapture.bind(Object(o.a)(r)),r.handleImage=r.handleImage.bind(Object(o.a)(r)),r}return Object(a.a)(s,[{key:"valid",value:function(){if(""==this.state.stateid&&""==this.state.cityname&&""==this.state.store_id&&""==this.state.bill&&""==this.state.file)this.setState({stateError:"Please select stores state",cityError:"Please select stores city",storeError:"Please select store name",billError:"Please enter the bill amount",fileError:"Please upload the bill copy"});else{if(""==this.state.stateid)return this.setState({stateError:"Please select stores state"}),!1;if(""==this.state.cityname)return this.setState({cityError:"Please select stores city"}),!1}return""==this.state.store_id?(this.setState({storeError:"Please select store name"}),!1):""==this.state.bill?(this.setState({billError:"Please enter the bill amount"}),!1):""==this.state.file?(this.setState({fileError:"Please upload the bill copy"}),!1):null!=this.state.mobile||(this.setState({modal:!0}),!1)}},{key:"componentDidMount",value:function(){var e=this;this.setState({blocking:!0}),fetch(g.a+"allstates").then((function(t){t.json().then((function(t){console.log(t),e.setState({statename:t.data,blocking:!1})}))})),this.setState({blocking:!0}),fetch(g.a+"getuserbyid/"+this.state.user_id).then((function(t){t.json().then((function(t){console.log(t),e.setState({profile:t,blocking:!1}),console.log("mobile",e.state.profile[0].mobile),e.setState({mobile:e.state.profile[0].mobile})}))}))}},{key:"setClose",value:function(){window.location.href="/userupdateprofile"}},{key:"handleCapture",value:function(e){console.log(e.target.files[0]),this.setState({file:URL.createObjectURL(e.target.files[0]),image:e.target.files[0]})}},{key:"handleImage",value:function(e){}},{key:"handleStoreName",value:function(e){console.log(e),console.log(this.state.storesname[e]),console.log("store",this.state.storesname[e]),console.log("store_id",this.state.storesname[e].user_id),console.log("subcategory",this.state.storesname[e].SubCat_id),this.setState({store_id:this.state.storesname[e].user_id,subcategory:this.state.storesname[e].SubCat_id})}},{key:"submitForm",value:function(e){var t=this;if(this.setState({stateError:"",cityError:"",storeError:"",billError:"",fileError:""}),this.valid()){var s=new FormData;s.append("invoiceImage",this.state.image),s.append("city",this.state.cityname),s.append("vendor_id",this.state.store_id),s.append("subcat_id",this.state.subcategory),s.append("invoiceAmount",this.state.bill),s.append("invoice_no",this.state.invoice),s.append("user_id",localStorage.getItem("user_id")),s.append("usermobile",this.state.mobile);var r=g.a+"addinvoice";b.a.post(r,s,{headers:g.b}).then((function(e){p.ToastsStore.error(e.data.message),console.log(e)})).catch((function(e){console.log(e),t.setState({error:e})}))}else this.setState({modal:!0})}},{key:"render",value:function(){var e,t=this,s={};s=this.state.stateid.length>0?{backgroundColor:"rgb(232, 240, 254)",borderRadius:"30px",border:"1px solid #3B5998"}:{borderRadius:"30px",backgroundColor:"#3B5998",border:"1px solid #3B5998"};var i={};return i=this.state.cityname.length>0?{backgroundColor:"rgb(232, 240, 254)",borderRadius:"30px",border:"1px solid #3B5998"}:{borderRadius:"30px",backgroundColor:"#3B5998",border:"1px solid #3B5998"},console.log(this.state.error),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(d.J,{show:this.state.modal,children:[Object(y.jsx)(d.M,{closeButton:!0}),Object(y.jsx)(d.K,{children:"Please update your mobile number"}),Object(y.jsxs)(d.L,{children:[Object(y.jsx)(d.d,{color:"primary",onClick:this.setClose,children:"ok"}),Object(y.jsx)(d.d,{color:"secondary",onClick:this.setModal,children:"Cancel"})]})]}),Object(y.jsx)(p.ToastsContainer,{position:p.ToastsContainerPosition.TOP_RIGHT,store:p.ToastsStore}),Object(y.jsx)(d.p,{style:{padding:"10px",marginTop:"-1.6rem"},children:Object(y.jsx)(d.O,{className:"justify-content-center",children:Object(y.jsx)(d.o,{md:"12",lg:"12",xl:"12",style:{padding:"0px"},children:Object(y.jsxs)(d.e,{className:"mx-10",style:{backgroundColor:"#110730",marginLeft:"-1rem",marginRight:"-.6rem",marginBottom:"-.1rem"},children:[Object(y.jsx)("center",{children:Object(y.jsx)("h4",{style:{color:"orange",marginTop:"0.3rem"},children:"-Add Order-"})}),Object(y.jsxs)(d.f,{className:"p-10",children:[Object(y.jsx)("label",{style:{color:"white"},children:"State"}),Object(y.jsx)(d.F,{className:"mb-3",children:Object(y.jsxs)(d.P,(e={value:"",id:"select",selected:!0},Object(r.a)(e,"value",this.state.stateid),Object(r.a)(e,"required",!0),Object(r.a)(e,"onChange",this.changeState),Object(r.a)(e,"style",s),Object(r.a)(e,"name","statename"),Object(r.a)(e,"children",[Object(y.jsx)("option",{children:"Select State"}),this.state.statename&&this.state.statename.length>0?this.state.statename.map((function(e){return Object(y.jsx)("option",{item:e,value:e.id,children:e.state_name})})):"No State Found"]),e))}),Object(y.jsxs)("div",{children:[" ",this.state.stateError?Object(y.jsxs)("p",{style:{color:"red",marginTop:"-0.6rem"},children:[" ",this.state.stateError]}):null,"  "]}),Object(y.jsx)("label",{style:{color:"white"},children:"Stores City"}),Object(y.jsx)(d.F,{className:"mb-3",children:Object(y.jsxs)(d.P,{id:"select",selected:!0,value:this.state.cityname,name:"city",onChange:this.changeCity,style:i,children:[Object(y.jsx)("option",{children:"select city"}),this.state.city&&this.state.city.length>0?this.state.city.map((function(e){return Object(y.jsx)("option",{item:e,value:e.city_name,children:e.city_name})})):"No City Found"]})}),Object(y.jsxs)("div",{children:[" ",this.state.cityError?Object(y.jsxs)("p",{style:{color:"red",marginTop:"-0.6rem"},children:[" ",this.state.cityError]}):null,"  "]}),Object(y.jsx)("label",{style:{color:"white"},children:"Stores Name"}),Object(y.jsx)(d.F,{className:"mb-3",children:Object(y.jsxs)(d.P,{placeholder:"Select Stores",name:"vendorID",id:"select",onChange:function(e){t.handleStoreName(e.target.value)},style:i,children:[Object(y.jsx)("option",{children:"select stores"}),this.state.storesname&&this.state.storesname.length>0?this.state.storesname.map((function(e,t){return Object(y.jsx)("option",{item:e,value:t,children:e.CompanyName})})):"No Stores Available"]})}),Object(y.jsxs)("div",{children:[" ",this.state.storeError?Object(y.jsxs)("p",{style:{color:"red",marginTop:"-0.6rem"},children:[" ",this.state.storeError]}):null,"  "]}),Object(y.jsx)("label",{style:{color:"white"},children:"Bill Amount"}),Object(y.jsx)(d.F,{className:"mb-3",children:Object(y.jsx)(d.E,{type:"number",name:"invoiceAmount",placeholder:"Enter the bill amount",autoComplete:"false",value:this.state.bill,onChange:function(e){return t.setState({bill:e.target.value})},style:{borderRadius:"30px",backgroundColor:"#3B5998",border:"1px solid #3B5998"}})}),Object(y.jsxs)("div",{children:[" ",this.state.billError?Object(y.jsxs)("p",{style:{color:"red",marginTop:"-0.6rem"},children:[" ",this.state.billError]}):null,"  "]}),Object(y.jsx)("label",{style:{color:"white"},children:"Invoice Number"}),Object(y.jsx)(d.F,{className:"mb-3",children:Object(y.jsx)(d.E,{type:"text",name:"invoice",placeholder:"Enter the Invoice Number",autoComplete:"false",value:this.state.invoice,onChange:function(e){return t.setState({invoice:e.target.value})},style:{borderRadius:"30px",backgroundColor:"#3B5998",border:"1px solid #3B5998"}})}),Object(y.jsxs)("div",{children:[" ",this.state.invoiceError?Object(y.jsxs)("p",{style:{color:"red",marginTop:"-0.6rem"},children:[" ",this.state.invoiceError]}):null,"  "]}),Object(y.jsxs)("center",{children:[" ",Object(y.jsx)("span",{style:{fontSize:"1rem",color:"white"},children:"Attach Bill Copy"})," "]}),Object(y.jsxs)(d.o,{xs:"12",md:"12",lg:"12",className:"content-center",children:[Object(y.jsx)("input",{accept:"image/*",id:"icon-button-file",type:"file",name:"invoiceImage",style:{display:"none"},capture:"environment",onChange:this.handleCapture}),Object(y.jsxs)("center",{children:[" ",Object(y.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(y.jsxs)("div",{children:[" ",0!=this.state.file?Object(y.jsx)(m.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(e){return t.setState({file:""})}}):null]}),Object(y.jsx)(m.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(y.jsx)(j.a,{fontSize:"large",color:"primary"})})]})]}),Object(y.jsx)("br",{})]}),Object(y.jsxs)("center",{children:["  ",this.state.file&&Object(y.jsx)("card",{display:"flex",justifyContent:"center",border:1,style:{maxWidth:"30%",maxHeight:"80%",border:"2px blue",margin:"10px"},children:Object(y.jsx)("img",{src:this.state.file,alt:"snap",style:{height:"inherit",maxWidth:"inherit"}})}),"   "]}),Object(y.jsxs)("div",{children:[" ",this.state.fileError?Object(y.jsxs)("p",{style:{color:"red",marginTop:"-0.6rem",textAlign:"center"},children:[" ",this.state.fileError]}):null,"  "]}),Object(y.jsxs)(d.o,{xs:"12",md:"12",lg:"12",className:"content-center",style:{paddingLeft:"1rem"},children:[Object(y.jsx)(d.d,{input:!0,type:"reset",color:"primary",className:"addWalletbtn",style:{width:"8rem",height:"2rem",borderBottomLeftRadius:"1rem",borderTopLeftRadius:"1rem",marginLeft:"-1.3rem"},children:" Cancel"}),Object(y.jsx)(d.d,{color:"warning",className:"addWalletbtn",style:{width:"8rem",height:"2rem",borderBottomRightRadius:"1rem",borderTopRightRadius:"1rem",marginLeft:"0.3rem"},onClick:function(e){return t.submitForm()},children:" Submit"})]})]})]})})})}),Object(y.jsx)(x.a,{blocking:this.state.blocking})]})}}]),s}(c.Component);t.default=f}}]);
//# sourceMappingURL=22.016545c8.chunk.js.map